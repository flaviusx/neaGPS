<?xml version="1.0" encoding="UTF-8"?>

<xwikidoc>
<web>Search</web>
<name>SearchWidgetJump</name>
<language></language>
<defaultLanguage>en</defaultLanguage>
<translation>0</translation>
<parent></parent>
<creator>XWiki.adminPolx</creator>
<author>XWiki.adminPolx</author>
<customClass></customClass>
<contentAuthor>XWiki.adminPolx</contentAuthor>
<creationDate>1289421165000</creationDate>
<date>1289904760000</date>
<contentUpdateDate>1289904760000</contentUpdateDate>
<version>2.1</version>
<title>Search Widget Jump Page</title>
<template></template>
<defaultTemplate></defaultTemplate>
<validationScript></validationScript>
<comment>x</comment>
<minorEdit>false</minorEdit>
<syntaxId>xwiki/1.0</syntaxId>
<object>
<class>
<name>XWiki.TagClass</name>
<customClass></customClass>
<customMapping></customMapping>
<defaultViewSheet></defaultViewSheet>
<defaultEditSheet></defaultEditSheet>
<defaultWeb></defaultWeb>
<nameField></nameField>
<validationScript></validationScript>
<tags>
<cache>0</cache>
<displayType>select</displayType>
<multiSelect>1</multiSelect>
<name>tags</name>
<number>1</number>
<prettyName>Tags</prettyName>
<relationalStorage>1</relationalStorage>
<separator> </separator>
<separators> ,|</separators>
<size>30</size>
<unmodifiable>0</unmodifiable>
<values></values>
<classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
</tags>
</class>
<name>Search.SearchWidgetJump</name>
<number>0</number>
<className>XWiki.TagClass</className>
<property>
<tags/>
</property>
</object>
<content>&lt;%
if(request.subject==null &amp;&amp; request.mediatype==null &amp;&amp; request.level==null &amp;&amp; request.ict==null) {
  println("This page will redirect you provided you input parameters (subject, mediatype, level, ict).");
} else {
  def subject = request.subject,
  mediatype = request.mediatype,
  level = request.level,
  ict = request.ict;
  def url = "";
  url = url + "/xwiki/bin/view/Search/#o%3As%3Ds%253Aresource^f%3Do%253A"
  url = url + "resource%253Do%25253Asubjectparent%25253Ds%2525253A"
  if(subject!=null) url = url + subject; // e.g. FW_masterFramework.Science
  url = url + "%25255Esubject%25253Ds%2525253A"
  if(subject!=null) url = url + subject; // e.g. FW_masterFramework.Science
  url = url + "%25255Ecategory%25253Ds%2525253A";
  if(mediatype!=null) url = url + mediatype;// e.g. audio
  url = url + "%25255Elevel%25253Ds%2525253A";
  if(level!=null) url = url + level; // e.g. gr-3-5
  url = url + "%25255Elanguage%25253Ds%2525253A%25255Ereview%25253Ds%2525253A%25255Eictprfx%25253Ds%2525253A"
  def ictprfx = ict;
  if(ictprfx.contains("_")) ictprfx = ictprfx.substring(0,ictprfx.indexOf("_"));
  if(ict!=null) url = url + ictprfx; // curriculum
  url = url + "%25255Eict%25253Ds%2525253A";
  if(ict !=null) url = url + ict;
  url = url + "%25255Especial%25253Ds%2525253A%255Egroup%253Do%25253Asubjectparent%25253Ds%2525253A%25255Esubject%25253Ds%2525253A%25255Elevel%25253Ds%2525253A%25255Elanguage%25253Ds%2525253A%25255Epolicy%25253Ds%2525253A%255Emember%253Do%25253Asubjectparent%25253Ds%2525253A%25255Esubject%25253Ds%2525253A%25255Emember_type%25253Ds%2525253A%25255Ecountry%25253Ds%2525253A%255Ecurriki%253Do%25253A^p%3Do%253Aresource%253Do%25253Ac%25253Dn%2525253A0%25255Es%25253Dn%2525253A25%255Egroup%253Do%25253Ac%25253Dn%2525253A0%25255Es%25253Dn%2525253A25%255Emember%253Do%25253Ac%25253Dn%2525253A0%25255Es%25253Dn%2525253A25%255Ecurriki%253Do%25253Ac%25253Dn%2525253A0%25255Es%25253Dn%2525253A25^t%3Ds%253Asearch-resource-tab^a%3Do%253A";
  response.sendRedirect(url); // permanent? temnporary?
}
%&gt;</content>
</xwikidoc>
