###
### Code page in the "view" mode
###
###
<h2>$xwiki.parseMessage("viewcodetitle")</h2>
#set($escapedcontent = $xwiki.getXMLEncoded($tdoc.translatedContent))
#set($ln = $request.getParameter("showlinenumbers"))
#if((!$ln) || ($ln == "1"))
<a href="$doc.getURL("view", "viewer=code&showlinenumbers=0&$docvariant")">$msg.get("hidelinenumbers")</a>
#set($splittedcontent = $escapedcontent.split("\n"))
<br />
<br />
<textarea readonly="readonly" style="width: 100%; height: 300px;">
#foreach($line in $splittedcontent)
$velocityCount: $line
#end
</textarea>
#else
<a href="$doc.getURL("view", "viewer=code&showlinenumbers=1&$docvariant")">$msg.get("showlinenumbers")</a>
<br />
<br />
<textarea readonly="readonly" style="width: 100%; height: 300px;">
$escapedcontent</textarea>
#end
